<?xml version="1.0" encoding="utf-8" ?>
<Defs>

	<ThingDef ParentName="MakeableDrugBase">
		<defName>SynthesizedOpium</defName>
		<label>Synthesized Opium</label>
		<description>A synthetic derivative of the poppy plant, used for further production of Opioid Medications, Sunthesized Opium is the most potent form and can be extremly detrimental or even fatal to health if ingested.</description>
		<graphicData>
			<texPath>Things/Item/Resource/SynthesizedOpium</texPath>
			<graphicClass>Graphic_StackCount</graphicClass>
		</graphicData>
		<rotatable>false</rotatable>
		<statBases>
			<WorkToMake>2000</WorkToMake>
			<MarketValue>40</MarketValue>
			<Mass>0.1</Mass>
			<Nutrition>0.3</Nutrition>
		</statBases>
		<techLevel>Industrial</techLevel>
		<ingestible>
		<preferability>DesperateOnly</preferability>
		<tasteThought></tasteThought>
		<foodType>Processed, Fluid</foodType>
			<joyKind>Chemical</joyKind>
			<joy>0.50</joy>
			<nurseable>true</nurseable>
			<drugCategory>Hard</drugCategory>
			<baseIngestTicks>240</baseIngestTicks>
			<ingestSound>Ingest_Inject</ingestSound>
			<ingestHoldOffsetStanding>
				<northDefault>
					<offset>(0.18,0,0)</offset>
				</northDefault>
			</ingestHoldOffsetStanding>
			<ingestHoldUsesTable>false</ingestHoldUsesTable>
			<ingestCommandString>Inject {0}</ingestCommandString>
			<ingestReportString>Injecting {0}.</ingestReportString>
			<useEatingSpeedStat>false</useEatingSpeedStat>
			<outcomeDoers>
				<li Class="IngestionOutcomeDoer_GiveHediff">
					<hediffDef>SynthesizedOpiumIngestion</hediffDef>
					<severity>0.1</severity>
					<toleranceChemical>Opioids</toleranceChemical>
				</li>
				<li Class="IngestionOutcomeDoer_GiveHediff">
					<hediffDef>OpioidTolerance</hediffDef>
					<severity>0.085</severity>
					<divideByBodySize>true</divideByBodySize>
				</li>
			</outcomeDoers>
		</ingestible>
		<recipeMaker>
			<researchPrerequisite>MOP_MedicationSynthesis</researchPrerequisite>
			<skillRequirements>
				<Medicine>6</Medicine>
				<Crafting>2</Crafting>
      </skillRequirements>
			<recipeUsers>
				<li>MOP_MedicationSynthesisWorkstation</li>
			</recipeUsers>
		</recipeMaker>
		<costList>
			<RawPoppies>18</RawPoppies>
			<PoppyMilk>4</PoppyMilk>
		</costList>
		<comps>
			<li Class="CompProperties_Drug">
				<chemical>Opioids</chemical>
				<addictiveness>0.3</addictiveness>
				<minToleranceToAddict>0</minToleranceToAddict>
				<existingAddictionSeverityOffset>0.20</existingAddictionSeverityOffset>
				<needLevelOffset>1</needLevelOffset>
				<isCombatEnhancingDrug>true</isCombatEnhancingDrug>
				<listOrder>200</listOrder>
				<overdoseSeverityOffset>
					<min>0.18</min>
					<max>0.35</max>
				</overdoseSeverityOffset>
			</li>
		</comps>
	</ThingDef>

	<HediffDef>
		<defName>SynthesizedOpiumIngestion</defName>
		<hediffClass>HediffWithComps</hediffClass>
		<label>Synthesized Opium Ingestion</label>
		<labelNoun>An Opioid High from Ingesting Synthetic Opium</labelNoun>
		<defaultLabelColor>(1,0,0.5)</defaultLabelColor>
		<scenarioCanAdd>true</scenarioCanAdd>
		<maxSeverity>1.0</maxSeverity>
		<isBad>false</isBad>
		<comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>3.0</severityPerDay>
      </li>
    </comps>
      <stages>
        <li>
          <label>Difficulty Breathing</label>
        </li>
		
        <li>
          <minSeverity>0.1</minSeverity>
          <label>Trembling</label>
          <painOffset>-0.2</painOffset>
		  <vomitMtbDays>0.05</vomitMtbDays>
            <capMods>
			   <li>
                <capacity>Manipulation</capacity>
                <offset>-0.02</offset>
              </li>
			   <li>
                <capacity>Moving</capacity>
                <offset>-0.02</offset>
              </li>
            </capMods>
        </li>
		
        <li>
          <minSeverity>0.25</minSeverity>
          <label>Shaking</label>
          <painOffset>0.2</painOffset>
		  <vomitMtbDays>0.1</vomitMtbDays>
            <capMods>
              <li>
                <capacity>Consciousness</capacity>
                <offset>-0.10</offset>
              </li>
              <li>
                <capacity>Moving</capacity>
                <offset>-0.1</offset>
              </li>
			   <li>
                <capacity>Manipulation</capacity>
                <offset>-0.1</offset>
              </li>
            </capMods>
        </li>
		
        <li>
          <minSeverity>0.6</minSeverity>
          <label>Convulsing</label>
          <painOffset>0.6</painOffset>
          <vomitMtbDays>0.15</vomitMtbDays>
            <capMods>
              <li>
                <capacity>Consciousness</capacity>
                <offset>-0.5</offset>
              </li>
              <li>
                <capacity>Moving</capacity>
                <offset>-0.20</offset>
              </li>
			   <li>
                <capacity>Manipulation</capacity>
                <offset>-0.2</offset>
              </li>
            </capMods>
        </li>
		
        <li>
          <minSeverity>1.0</minSeverity>
          <label>Death</label>
          <painOffset>1.0</painOffset>
          <vomitMtbDays>0.01</vomitMtbDays>
            <capMods>
              <li>
                <capacity>Consciousness</capacity>
                <offset>-0.95</offset>
              </li>
              <li>
                <capacity>Moving</capacity>
                <offset>-0.95</offset>
              </li>
			   <li>
                <capacity>Manipulation</capacity>
                <offset>-0.95</offset>
              </li>
            </capMods>
        </li>
	</stages>
	</HediffDef>
	
	<ThoughtDef>
		<defName>SynthesizedOpiumIngestion</defName>
		<workerClass>ThoughtWorker_Hediff</workerClass>
		<hediff>SynthesizedOpiumIngestion</hediff>
		<validWhileDespawned>true</validWhileDespawned>
		<stages>
			<li>
				<label>Synthesized Opium Consumption</label>
				<description>OH GOD, I knew I shouldnt have taken that! What have I done?!?!.</description>
				<baseMoodEffect>-45</baseMoodEffect>
			</li>
		</stages>
	</ThoughtDef>

	<ChemicalDef>
		<defName>Opioids</defName>
		<label>Opioids</label>
		<addictionHediff>OpioidAddiction</addictionHediff>
		<toleranceHediff>OpioidTolerance</toleranceHediff>
		<onGeneratedAddictedToleranceChance>1</onGeneratedAddictedToleranceChance>
	</ChemicalDef>

	<NeedDef ParentName="MOP_DrugAddictionNeedBase">
    <defName>Chemical_Opioids</defName>
    <needClass>Need_Chemical</needClass>
    <label>Opioid Addiction</label>
    <description>Because of a Opioid addiction, this person needs to regularly consume the drug to avoid withdrawal symptoms.</description>
    <listPriority>45</listPriority>
  </NeedDef>


  <HediffDef ParentName="MOP_DrugToleranceBase">
    <defName>OpioidTolerance</defName>
    <label>Opioid Tolerance</label>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.015</severityPerDay>
      </li>
      <li Class="HediffCompProperties_DrugEffectFactor">
        <chemical>Opioids</chemical>
      </li>
    </comps>
		<hediffGivers>
			<li Class="HediffGiver_RandomDrugEffect">
				<hediff>ChemicalDamageModerate</hediff>
				<minSeverity>0.50</minSeverity>
				<baseMtbDays>120</baseMtbDays>
				<partsToAffect>
					<li>Brain</li>
				</partsToAffect>
			</li>
		</hediffGivers>
  </HediffDef>

	<HediffDef ParentName="MOP_AddictionBase">
    <defName>OpioidAddiction</defName>
    <hediffClass>Hediff_Addiction</hediffClass>
    <label>Opioid Addiction</label>
    <causesNeed>Chemical_Opioids</causesNeed>
    <comps>
      <li Class="HediffCompProperties_SeverityPerDay">
        <severityPerDay>-0.04</severityPerDay>
      </li>
    </comps>
    <stages>
      <li>
      </li>
      <li>
        <label>withdrawal</label>
        <painFactor>3</painFactor>
        <restFallFactorOffset>0.3</restFallFactorOffset>
        <hungerRateFactorOffset>0.5</hungerRateFactorOffset>
        <capMods>
          <li>
            <capacity>Consciousness</capacity>
            <offset>-0.20</offset>
          </li>
          <li>
            <capacity>Moving</capacity>
            <offset>-0.50</offset>
          </li>
          <li>
            <capacity>Sight</capacity>
            <offset>-0.20</offset>
          </li>
          <li>
            <capacity>BloodPumping</capacity>
            <offset>-0.20</offset>
          </li>
          <li>
            <capacity>Manipulation</capacity>
            <offset>-0.10</offset>
          </li>
        </capMods>
        <mentalStateGivers>
					<li>
						<mentalState>Binging_DrugExtreme</mentalState>
						<mtbDays>40</mtbDays>
					</li>
          <li>
            <mentalState>Wander_Psychotic</mentalState>
            <mtbDays>7</mtbDays>
          </li>
        </mentalStateGivers>
      </li>
    </stages>
  </HediffDef>

	<ThoughtDef>
    <defName>OpioidWithdrawal</defName>
    <workerClass>ThoughtWorker_Hediff</workerClass>
    <hediff>OpioidAddiction</hediff>
    <validWhileDespawned>true</validWhileDespawned>
    <stages>
      <li>
        <visible>false</visible>
      </li>
      <li>
        <label>Opioid Withdrawal</label>
        <description>I'm all fuzzy and can't think straight. My limbs feel heavy, I'm tired and hungry, everything hurts. And why won't my eyes focus properly?</description>
        <baseMoodEffect>-30</baseMoodEffect>
      </li>
    </stages>
	</ThoughtDef>
</Defs>